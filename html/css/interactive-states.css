/**
 * INTERACTIVE ELEMENT STATES
 * Enhanced hover, focus, and active states for all interactive elements
 * Implements WCAG AA accessibility standards
 */

/* ===== GLOBAL INTERACTIVE STATES ===== */

/* Base focus indicator for all interactive elements */
button:focus,
input:focus,
select:focus,
textarea:focus,
a:focus,
[tabindex]:focus {
    outline: 2px solid #1291da !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 4px rgba(18, 145, 218, 0.2) !important;
    transition: all 0.2s ease !important;
}

/* Remove default focus outline for mouse users */
button:focus:not(:focus-visible),
input:focus:not(:focus-visible),
select:focus:not(:focus-visible),
textarea:focus:not(:focus-visible),
a:focus:not(:focus-visible),
[tabindex]:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
}

/* Enhanced focus for keyboard navigation */
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible,
[tabindex]:focus-visible {
    outline: 3px solid #1291da !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 6px rgba(18, 145, 218, 0.3) !important;
}

/* ===== BUTTON STATES ===== */

/* Primary buttons */
.btn-primary,
.producto-consultar,
.carrito-acciones-comprar,
#apply-filters,
button[class*="btn-primary"] {
    background-color: #1291da !important;
    color: #ffffff !important;
    border: 2px solid #1291da !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.btn-primary:hover,
.producto-consultar:hover,
.carrito-acciones-comprar:hover,
#apply-filters:hover,
button[class*="btn-primary"]:hover {
    background-color: #0d6eaa !important;
    border-color: #0d6eaa !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(18, 145, 218, 0.3) !important;
}

.btn-primary:active,
.producto-consultar:active,
.carrito-acciones-comprar:active,
#apply-filters:active,
button[class*="btn-primary"]:active {
    background-color: #0a5a8a !important;
    border-color: #0a5a8a !important;
    transform: translateY(0) !important;
    box-shadow: 0 2px 6px rgba(18, 145, 218, 0.4) !important;
}

/* Secondary buttons */
.btn-secondary,
.carrito-acciones-vaciar,
#clear-all-filters,
button[class*="btn-secondary"] {
    background-color: #f8f9fa !important;
    color: #333333 !important;
    border: 2px solid #dee2e6 !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.btn-secondary:hover,
.carrito-acciones-vaciar:hover,
#clear-all-filters:hover,
button[class*="btn-secondary"]:hover {
    background-color: #e9ecef !important;
    border-color: #adb5bd !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.btn-secondary:active,
.carrito-acciones-vaciar:active,
#clear-all-filters:active,
button[class*="btn-secondary"]:active {
    background-color: #dee2e6 !important;
    border-color: #6c757d !important;
    transform: translateY(0) !important;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Danger buttons */
.btn-danger,
.carrito-producto-eliminar,
button[class*="btn-danger"] {
    background-color: #dc3545 !important;
    color: #ffffff !important;
    border: 2px solid #dc3545 !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.btn-danger:hover,
.carrito-producto-eliminar:hover,
button[class*="btn-danger"]:hover {
    background-color: #c82333 !important;
    border-color: #c82333 !important;
    transform: scale(1.05) !important;
    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3) !important;
}

.btn-danger:active,
.carrito-producto-eliminar:active,
button[class*="btn-danger"]:active {
    background-color: #bd2130 !important;
    border-color: #bd2130 !important;
    transform: scale(1.02) !important;
    box-shadow: 0 2px 6px rgba(220, 53, 69, 0.4) !important;
}

/* ===== NAVIGATION MENU STATES ===== */

/* Menu buttons */
.boton-menu {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    position: relative !important;
}

.boton-menu:hover:not(.active) {
    background-color: rgba(255, 255, 255, 0.1) !important;
    transform: translateX(5px) !important;
}

.boton-menu:active:not(.active) {
    background-color: rgba(255, 255, 255, 0.2) !important;
    transform: translateX(3px) !important;
}

/* Active menu button enhancement */
.boton-menu.active {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

/* Mobile menu buttons */
.open-menu,
.close-menu {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.open-menu:hover,
.close-menu:hover {
    transform: scale(1.1) !important;
    color: #ffffff !important;
}

.open-menu:active,
.close-menu:active {
    transform: scale(1.05) !important;
}

/* ===== FORM ELEMENT STATES ===== */

/* Input fields */
input[type="text"],
input[type="number"],
input[type="email"],
input[type="password"],
textarea,
select {
    border: 2px solid #dee2e6 !important;
    background-color: #ffffff !important;
    color: #333333 !important;
    transition: all 0.2s ease !important;
    padding: 0.75rem !important;
    border-radius: 0.5rem !important;
}

input[type="text"]:hover,
input[type="number"]:hover,
input[type="email"]:hover,
input[type="password"]:hover,
textarea:hover,
select:hover {
    border-color: #1291da !important;
    box-shadow: 0 2px 4px rgba(18, 145, 218, 0.1) !important;
}

input[type="text"]:focus,
input[type="number"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
    border-color: #1291da !important;
    box-shadow: 0 0 0 3px rgba(18, 145, 218, 0.2) !important;
    outline: none !important;
}

/* Select dropdown states */
select {
    cursor: pointer !important;
    appearance: none !important;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e") !important;
    background-repeat: no-repeat !important;
    background-position: right 0.75rem center !important;
    background-size: 1rem !important;
    padding-right: 2.5rem !important;
}

select:hover {
    background-color: #f8f9fa !important;
}

select:active {
    background-color: #e9ecef !important;
}

/* Option states */
option {
    background-color: #ffffff !important;
    color: #333333 !important;
    padding: 0.5rem !important;
}

option:hover,
option:focus {
    background-color: #1291da !important;
    color: #ffffff !important;
}

/* ===== FILTER WIDGET STATES ===== */

/* Filter toggle button */
#toggle-filtros {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

#toggle-filtros:hover {
    background-color: #0d6eaa !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(18, 145, 218, 0.4) !important;
}

#toggle-filtros:active {
    background-color: #0a5a8a !important;
    transform: translateY(0) !important;
}

/* Filter inputs */
.filter-input,
.filter-select {
    transition: all 0.2s ease !important;
}

.filter-input:hover,
.filter-select:hover {
    border-color: #1291da !important;
    box-shadow: 0 2px 4px rgba(18, 145, 218, 0.1) !important;
}

.filter-input:focus,
.filter-select:focus {
    border-color: #1291da !important;
    box-shadow: 0 0 0 3px rgba(18, 145, 218, 0.2) !important;
}

/* Filter close button */
.filter-close {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.filter-close:hover {
    background-color: #f8f9fa !important;
    transform: scale(1.1) !important;
}

.filter-close:active {
    background-color: #e9ecef !important;
    transform: scale(1.05) !important;
}

/* ===== PRODUCT CARD STATES ===== */

/* Product card hover */
.producto {
    transition: all 0.3s ease !important;
    cursor: pointer !important;
}

.producto:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
}

/* Product variant selector */
.producto-variantes {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.producto-variantes:hover {
    border-color: #1291da !important;
    box-shadow: 0 2px 4px rgba(18, 145, 218, 0.1) !important;
}

.producto-variantes:focus {
    border-color: #1291da !important;
    box-shadow: 0 0 0 3px rgba(18, 145, 218, 0.2) !important;
}

/* ===== CART ELEMENT STATES ===== */

/* Cart product quantity selectors */
.carrito-producto-talles {
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.carrito-producto-talles:hover {
    border-color: #1291da !important;
    box-shadow: 0 2px 4px rgba(18, 145, 218, 0.1) !important;
}

.carrito-producto-talles:focus {
    border-color: #1291da !important;
    box-shadow: 0 0 0 3px rgba(18, 145, 218, 0.2) !important;
}

/* ===== LINK STATES ===== */

/* General links */
a {
    color: #1291da !important;
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

a:hover {
    color: #0d6eaa !important;
    text-decoration: underline !important;
}

a:active {
    color: #0a5a8a !important;
}

/* Logo links */
.logo,
a .logo {
    color: #ffffff !important;
    transition: all 0.2s ease !important;
}

.logo:hover,
a:hover .logo {
    transform: scale(1.05) !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

/* ===== DISABLED STATES ===== */

/* Disabled buttons */
button:disabled,
input:disabled,
select:disabled,
textarea:disabled,
.disabled {
    opacity: 0.6 !important;
    cursor: not-allowed !important;
    pointer-events: none !important;
}

button:disabled:hover,
input:disabled:hover,
select:disabled:hover,
textarea:disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

/* ===== LOADING STATES ===== */

/* Loading button state */
.loading {
    position: relative !important;
    pointer-events: none !important;
}

.loading::after {
    content: '' !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 1rem !important;
    height: 1rem !important;
    margin: -0.5rem 0 0 -0.5rem !important;
    border: 2px solid transparent !important;
    border-top: 2px solid currentColor !important;
    border-radius: 50% !important;
    animation: spin 1s linear infinite !important;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ===== HIGH CONTRAST MODE ===== */

@media (prefers-contrast: high) {
    button:focus,
    input:focus,
    select:focus,
    textarea:focus,
    a:focus,
    [tabindex]:focus {
        outline: 4px solid #000000 !important;
        outline-offset: 2px !important;
        box-shadow: none !important;
    }
    
    button:hover,
    input:hover,
    select:hover {
        border-color: #000000 !important;
        box-shadow: 0 0 0 2px #000000 !important;
    }
}

/* ===== REDUCED MOTION ===== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== TOUCH DEVICE OPTIMIZATIONS ===== */

@media (hover: none) and (pointer: coarse) {
    /* Increase touch targets for mobile */
    button,
    input,
    select,
    a,
    [tabindex] {
        min-height: 44px !important;
        min-width: 44px !important;
        padding: 0.75rem !important;
    }
    
    /* Remove hover effects on touch devices */
    button:hover,
    input:hover,
    select:hover,
    a:hover {
        transform: none !important;
    }
    
    /* Enhanced active states for touch */
    button:active,
    input:active,
    select:active,
    a:active {
        background-color: rgba(18, 145, 218, 0.1) !important;
        transform: scale(0.98) !important;
    }
}
/* =
==== KEYBOARD FOCUS ENHANCEMENTS ===== */

/* Enhanced keyboard focus for product cards */
.producto.keyboard-focused {
    outline: 3px solid #1291da !important;
    outline-offset: 4px !important;
    box-shadow: 0 0 0 6px rgba(18, 145, 218, 0.2) !important;
}

/* Skip navigation link */
.skip-nav {
    position: absolute !important;
    top: -40px !important;
    left: 6px !important;
    background: #1291da !important;
    color: white !important;
    padding: 8px 16px !important;
    text-decoration: none !important;
    border-radius: 4px !important;
    z-index: 10000 !important;
    transition: top 0.2s ease !important;
    font-weight: 600 !important;
}

.skip-nav:focus {
    top: 6px !important;
    outline: 2px solid #ffffff !important;
    outline-offset: 2px !important;
}

/* ===== FORM VALIDATION STATES ===== */

/* Valid field state */
.valid {
    border-color: #28a745 !important;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2) !important;
}

.valid:focus {
    border-color: #28a745 !important;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.3) !important;
}

/* Invalid field state */
.invalid {
    border-color: #dc3545 !important;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2) !important;
}

.invalid:focus {
    border-color: #dc3545 !important;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.3) !important;
}

/* Field error message */
.field-error {
    color: #dc3545 !important;
    font-size: 0.875rem !important;
    margin-top: 0.25rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
}

.field-error::before {
    content: "⚠" !important;
    font-size: 0.75rem !important;
}

/* ===== ENHANCED BUTTON STATES ===== */

/* Button with icon spacing */
button i,
.btn i,
a i {
    margin-right: 0.5rem !important;
}

button i:last-child,
.btn i:last-child,
a i:last-child {
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
}

/* Button size variants */
.btn-small {
    padding: 0.5rem 1rem !important;
    font-size: 0.875rem !important;
}

.btn-large {
    padding: 1rem 2rem !important;
    font-size: 1.125rem !important;
}

/* Icon-only buttons */
.btn-icon {
    width: 2.5rem !important;
    height: 2.5rem !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
}

.btn-icon i {
    margin: 0 !important;
}

/* ===== ENHANCED HOVER EFFECTS ===== */

/* Subtle glow effect for primary elements */
.btn-primary:hover,
.producto-consultar:hover {
    box-shadow: 0 4px 12px rgba(18, 145, 218, 0.3), 0 0 20px rgba(18, 145, 218, 0.1) !important;
}

/* Card lift effect */
.producto:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 0 30px rgba(18, 145, 218, 0.05) !important;
}

/* Menu item slide effect */
.boton-menu:hover:not(.active) {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05)) !important;
}

/* ===== ANIMATION ENHANCEMENTS ===== */

/* Smooth transitions for all interactive elements */
* {
    transition-property: background-color, border-color, color, box-shadow, transform, opacity !important;
    transition-duration: 0.2s !important;
    transition-timing-function: ease-out !important;
}

/* Bounce effect for important buttons */
.producto-consultar:active,
.btn-primary:active {
    animation: button-bounce 0.3s ease-out !important;
}

@keyframes button-bounce {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

/* Pulse effect for notifications */
.pulse {
    animation: pulse 2s infinite !important;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

/* ===== RESPONSIVE TOUCH IMPROVEMENTS ===== */

@media (max-width: 768px) {
    /* Larger touch targets */
    button,
    input,
    select,
    a,
    .producto {
        min-height: 48px !important;
        min-width: 48px !important;
    }
    
    /* Increased padding for better touch experience */
    .btn-primary,
    .btn-secondary,
    .btn-danger {
        padding: 1rem 1.5rem !important;
    }
    
    /* Larger focus indicators on mobile */
    button:focus,
    input:focus,
    select:focus,
    a:focus {
        outline-width: 4px !important;
        outline-offset: 4px !important;
    }
}

/* ===== DARK MODE SUPPORT ===== */

@media (prefers-color-scheme: dark) {
    /* Adjust colors for dark mode */
    input,
    select,
    textarea {
        background-color: #2d3748 !important;
        color: #ffffff !important;
        border-color: #4a5568 !important;
    }
    
    input:hover,
    select:hover,
    textarea:hover {
        border-color: #1291da !important;
        background-color: #374151 !important;
    }
    
    .field-error {
        color: #f56565 !important;
    }
    
    .valid {
        border-color: #48bb78 !important;
    }
}

/* ===== PRINT STYLES ===== */

@media print {
    /* Hide interactive elements in print */
    button,
    .btn,
    .skip-nav,
    .field-error {
        display: none !important;
    }
    
    /* Ensure text is readable in print */
    * {
        color: #000000 !important;
        background: transparent !important;
        box-shadow: none !important;
    }
}